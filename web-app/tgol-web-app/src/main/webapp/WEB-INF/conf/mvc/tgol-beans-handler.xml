<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="
       http://www.springframework.org/schema/beans
       http://www.springframework.org/schema/beans/spring-beans-3.0.xsd">

    <bean id="actByIpLimitationVoter" class="org.opens.tgol.voter.restriction.ActByIpLimitationVoterImpl"/>
    <bean id="actLimitationVoter" class="org.opens.tgol.voter.restriction.ActLimitationVoterImpl"/>

    <bean id="restrictionHandler" class="org.opens.tgol.voter.restriction.RestrictionHandlerImpl">
        <property name="restrictionVoterMap">
            <map>
                <entry key="ACT_LIMITATION">
                    <ref bean="actLimitationVoter"/>
                </entry>
                <entry key="ACT_BY_IP_LIMITATION">
                    <ref bean="actByIpLimitationVoter"/>
                </entry>
            </map>
        </property>
    </bean>

    <bean id="axsUpload" class="org.opens.tgol.action.voter.ActionVoterImpl">
        <property name="actionEnableMap">
            <map>
                <entry key="PAGE_AUDIT" value="false"/>
                <entry key="SITE_AUDIT" value="false"/>
                <entry key="UPLOAD_AUDIT" value="true"/>
            </map>
        </property>
        <property name="code" value="AXS_UPLOAD"/>
    </bean>

    <bean id="seoUpload" class="org.opens.tgol.action.voter.ActionVoterImpl">
        <property name="actionEnableMap">
            <map>
                <entry key="PAGE_AUDIT" value="false"/>
                <entry key="SITE_AUDIT" value="false"/>
                <entry key="UPLOAD_AUDIT" value="true"/>
            </map>
        </property>
        <property name="code" value="AXS_UPLOAD"/>
    </bean>

    <bean id="axsDomain" class="org.opens.tgol.action.voter.ActionVoterImpl">
        <property name="actionEnableMap">
            <map>
                <entry key="PAGE_AUDIT" value="false"/>
                <entry key="SITE_AUDIT" value="true"/>
                <entry key="UPLOAD_AUDIT" value="false"/>
            </map>
        </property>
        <property name="code" value="AXS_DOMAIN"/>
    </bean>

    <bean id="seoDomain" class="org.opens.tgol.action.voter.ActionVoterImpl">
        <property name="actionEnableMap">
            <map>
                <entry key="PAGE_AUDIT" value="false"/>
                <entry key="SITE_AUDIT" value="true"/>
                <entry key="UPLOAD_AUDIT" value="false"/>
            </map>
        </property>
        <property name="code" value="SEO_DOMAIN"/>
    </bean>

    <bean id="axsPages" class="org.opens.tgol.action.voter.ActionVoterImpl">
        <property name="actionEnableMap">
            <map>
                <entry key="PAGE_AUDIT" value="true"/>
                <entry key="SITE_AUDIT" value="false"/>
                <entry key="UPLOAD_AUDIT" value="false"/>
            </map>
        </property>
        <property name="code" value="AXS_PAGES"/>
    </bean>

    <bean id="seoPages" class="org.opens.tgol.action.voter.ActionVoterImpl">
        <property name="actionEnableMap">
            <map>
                <entry key="PAGE_AUDIT" value="true"/>
                <entry key="SITE_AUDIT" value="false"/>
                <entry key="UPLOAD_AUDIT" value="false"/>
            </map>
        </property>
        <property name="code" value="SEO_PAGES"/>
    </bean>

    <bean id="axsReadOnly" class="org.opens.tgol.action.voter.ActionVoterImpl">
        <property name="actionEnableMap">
            <map>
                <entry key="PAGE_AUDIT" value="false"/>
                <entry key="SITE_AUDIT" value="false"/>
                <entry key="UPLOAD_AUDIT" value="false"/>
            </map>
        </property>
        <property name="code" value="AXS_READONLY"/>
    </bean>

    <bean id="seoReadOnly" class="org.opens.tgol.action.voter.ActionVoterImpl">
        <property name="actionEnableMap">
            <map>
                <entry key="PAGE_AUDIT" value="false"/>
                <entry key="SITE_AUDIT" value="false"/>
                <entry key="UPLOAD_AUDIT" value="false"/>
            </map>
        </property>
        <property name="code" value="SEO_READONLY"/>
    </bean>
    
    <bean id="axsPagesUpload" class="org.opens.tgol.action.voter.ActionVoterImpl">
        <property name="actionEnableMap">
            <map>
                <entry key="PAGE_AUDIT" value="true"/>
                <entry key="SITE_AUDIT" value="false"/>
                <entry key="UPLOAD_AUDIT" value="true"/>
            </map>
        </property>
        <property name="code" value="AXS_PAGES_UPLOAD"/>
    </bean>
    
    <bean id="seoPagesUpload" class="org.opens.tgol.action.voter.ActionVoterImpl">
        <property name="actionEnableMap">
            <map>
                <entry key="PAGE_AUDIT" value="true"/>
                <entry key="SITE_AUDIT" value="false"/>
                <entry key="UPLOAD_AUDIT" value="true"/>
            </map>
        </property>
        <property name="code" value="SEO_PAGES_UPLOAD"/>
    </bean>

    <bean id="axsDomainOnly" class="org.opens.tgol.action.voter.ActionVoterImpl">
        <property name="actionEnableMap">
            <map>
                <entry key="PAGE_AUDIT" value="false"/>
                <entry key="SITE_AUDIT" value="true"/>
                <entry key="UPLOAD_AUDIT" value="false"/>
            </map>
        </property>
        <property name="code" value="AXS_DOMAIN_ONLY"/>
    </bean>
    
    <bean id="seoDomainOnly" class="org.opens.tgol.action.voter.ActionVoterImpl">
        <property name="actionEnableMap">
            <map>
                <entry key="PAGE_AUDIT" value="false"/>
                <entry key="SITE_AUDIT" value="true"/>
                <entry key="UPLOAD_AUDIT" value="false"/>
            </map>
        </property>
        <property name="code" value="SEO_DOMAIN_ONLY"/>
    </bean>

    <bean id="axsPagesDomainUpload" class="org.opens.tgol.action.voter.ActionVoterImpl">
        <property name="actionEnableMap">
            <map>
                <entry key="PAGE_AUDIT" value="true"/>
                <entry key="SITE_AUDIT" value="true"/>
                <entry key="UPLOAD_AUDIT" value="true"/>
            </map>
        </property>
        <property name="code" value="AXS_PAGES_DOMAIN_UPLOAD"/>
    </bean>
    
    <bean id="seoPagesDomainUpload" class="org.opens.tgol.action.voter.ActionVoterImpl">
        <property name="actionEnableMap">
            <map>
                <entry key="PAGE_AUDIT" value="true"/>
                <entry key="SITE_AUDIT" value="true"/>
                <entry key="UPLOAD_AUDIT" value="true"/>
            </map>
        </property>
        <property name="code" value="SEO_PAGES_DOMAIN_UPLOAD"/>
    </bean>

    <bean id="auditPageAction" class="org.opens.tgol.action.ActionImpl">
        <property name="actionCode" value="PAGE_AUDIT"/>
        <property name="actionI81NCode" value="contract.launchPages"/>
        <property name="actionUrl" value="/home/contract/audit-page-set-up.html"/>
        <property name="disabledActionImageUrl" value="/Images/Audit-10-pages-forbidden.png"/>
        <property name="enabledActionImageUrl" value="/Images/Audit-10-pages.png"/>
    </bean>

    <bean id="auditSiteAction" class="org.opens.tgol.action.ActionImpl">
        <property name="actionCode" value="SITE_AUDIT"/>
        <property name="actionI81NCode" value="contract.launchFullSite"/>
        <property name="actionUrl" value="/home/contract/audit-site-set-up.html"/>
        <property name="disabledActionImageUrl" value="/Images/Audit-full-site-forbidden.png"/>
        <property name="enabledActionImageUrl" value="/Images/Audit-full-site.png"/>
    </bean>

    <bean id="auditUploadAction" class="org.opens.tgol.action.ActionImpl">
        <property name="actionCode" value="UPLOAD_AUDIT"/>
        <property name="actionI81NCode" value="contract.launchUpload"/>
        <property name="actionUrl" value="/home/contract/audit-upload-set-up.html"/>
        <property name="disabledActionImageUrl" value="/Images/Audit-10-pages-forbidden.png"/>
        <property name="enabledActionImageUrl" value="/Images/Audit-10-pages.png"/>
    </bean>

    <bean id="contractActionHandler" class="org.opens.tgol.action.voter.ContractActionHandlerImpl">
        <property name="actionList">
            <list>
                <ref bean="auditPageAction"/>
                <ref bean="auditSiteAction"/>
                <ref bean="auditUploadAction"/>
            </list>
        </property>
        <property name="actionAccessibilityVoterMap">
            <map>
                <entry key="AXS_UPLOAD" value-ref="axsUpload"/>
                <entry key="SEO_UPLOAD" value-ref="seoUpload"/>
                <entry key="AXS_DOMAIN" value-ref="axsDomain"/>
                <entry key="SEO_DOMAIN" value-ref="seoDomain"/>
                <entry key="AXS_PAGES" value-ref="axsPages"/>
                <entry key="SEO_PAGES" value-ref="seoPages"/>
                <entry key="AXS_READONLY" value-ref="axsReadOnly"/>
                <entry key="SEO_READONLY" value-ref="seoReadOnly"/>
                <entry key="AXS_PAGES_DOMAIN_UPLOAD" value-ref="axsPagesDomainUpload"/>
                <entry key="AXS_DOMAIN_ONLY" value-ref="axsDomainOnly"/>
                <entry key="AXS_PAGES_UPLOAD" value-ref="axsPagesUpload"/>
                <entry key="SEO_PAGES_DOMAIN_UPLOAD" value-ref="seoPagesDomainUpload"/>
                <entry key="SEO_PAGES_UPLOAD" value-ref="seoPagesUpload"/>
                <entry key="SEO_DOMAIN_ONLY" value-ref="seoDomainOnly"/>
            </map>
        </property>
    </bean>

    <bean id="exportOdsAction" class="org.opens.tgol.action.ActionImpl">
        <property name="actionCode" value="EXPORT_ODS"/>
        <property name="actionI81NCode" value="resultPage.odsExport"/>
        <property name="actionAltI81NCode" value="resultPage.odsExportAlt"/>
        <property name="actionUrl" value="/home/contract/export-audit-result.html?format=ods"/>
        <property name="disabledActionImageUrl" value="/Images/ods_export.png"/>
        <property name="enabledActionImageUrl" value="/Images/ods_export.png"/>
    </bean>

    <bean id="exportXlsAction" class="org.opens.tgol.action.ActionImpl">
        <property name="actionCode" value="EXPORT_XLS"/>
        <property name="actionI81NCode" value="resultPage.xlsExport"/>
        <property name="actionAltI81NCode" value="resultPage.xlsExportAlt"/>
        <property name="actionUrl" value="#"/>
        <property name="disabledActionImageUrl" value="/Images/xls_export.png"/>
        <property name="enabledActionImageUrl" value="/Images/xls_export.png"/>
    </bean>

    <bean id="exportCsvAction" class="org.opens.tgol.action.ActionImpl">
        <property name="actionCode" value="EXPORT_CSV"/>
        <property name="actionI81NCode" value="resultPage.csvExport"/>
        <property name="actionAltI81NCode" value="resultPage.csvExportAlt"/>
        <property name="actionUrl" value="#"/>
        <property name="disabledActionImageUrl" value="/Images/csv_export.png"/>
        <property name="enabledActionImageUrl" value="/Images/csv_export.png"/>
    </bean>

    <bean id="exportPdfAction" class="org.opens.tgol.action.ActionImpl">
        <property name="actionCode" value="EXPORT_PDF"/>
        <property name="actionI81NCode" value="resultPage.pdfExport"/>
        <property name="actionAltI81NCode" value="resultPage.pdfExportAlt"/>
        <property name="actionUrl" value="#"/>
        <property name="disabledActionImageUrl" value="/Images/pdf_export.png"/>
        <property name="enabledActionImageUrl" value="/Images/pdf_export.png"/>
    </bean>

    <bean id="exportVoter" class="org.opens.tgol.action.voter.ActionVoterImpl">
        <property name="actionEnableMap">
            <map>
                <entry key="EXPORT_ODS" value="true"/>
                <entry key="EXPORT_PDF" value="false"/>
<!--                <entry key="EXPORT_XLS" value="false"/>-->
                <entry key="EXPORT_CSV" value="false"/>
            </map>
        </property>
        <property name="code" value="EXPORT"/>
    </bean>

    <bean id="resultActionHandler" class="org.opens.tgol.action.voter.ResultActionHandlerImpl">
    <property name="actionList">
            <list>
                <ref bean="exportOdsAction"/>
<!--                <ref bean="exportXlsAction"/>-->
                <ref bean="exportCsvAction"/>
                <ref bean="exportPdfAction"/>
            </list>
        </property>
        <property name="actionAccessibilityVoterMap">
            <map>
                <entry key="EXPORT" value-ref="exportVoter"/>
            </map>
        </property>
    </bean>

</beans>